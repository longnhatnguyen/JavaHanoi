<div class="" id="kt_modal_add_user" tabindex="-1">
  <div class="" style="margin: 0; width: 100%">
    <div class="modal-content">
      <div class="modal-header" id="kt_modal_add_user_header">
        <h2 *ngIf="!itemDetail" class="fw-bolder">Thêm mới cửa hàng</h2>
        <h2 *ngIf="itemDetail" class="fw-bolder">Sửa thông tin cửa hàng</h2>
        <div
          class="btn btn-icon btn-sm btn-active-icon-primary"
          data-kt-users-modal-action="close"
          (click)="close()"
        >
          <span class="svg-icon svg-icon-1">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
            >
              <rect
                opacity="0.5"
                x="6"
                y="17.3137"
                width="16"
                height="2"
                rx="1"
                transform="rotate(-45 6 17.3137)"
                fill="black"
              />
              <rect
                x="7.41422"
                y="6"
                width="16"
                height="2"
                rx="1"
                transform="rotate(45 7.41422 6)"
                fill="black"
              />
            </svg>
          </span>
        </div>
      </div>
      <div class="modal-body scroll-y mx-5 mx-xl-15 my-7">
        <!-- <div>{{ formGroupCreate.value | json }}</div> -->
        <form
          class=""
          [formGroup]="formGroupCreate"
          novalidate
          id="kt_modal_add_user_form"
          class="form"
          action="#"
        >
          <div
            class="d-flex flex-column me-n7 pe-7 form-wrap"
            id="kt_modal_add_user_scroll"
            data-kt-scroll="true"
            data-kt-scroll-activate="{default: false, lg: true}"
            data-kt-scroll-max-height="auto"
            data-kt-scroll-dependencies="#kt_modal_add_user_header"
            data-kt-scroll-wrappers="#kt_modal_add_user_scroll"
            data-kt-scroll-offset="300px"
          >
            <div class="fv-row mb-7">
              <label class="required fw-bold fs-6 mb-2" for="Admin_username"
                >Tên cửa hàng</label
              >
              <input
                type="text"
                pInputText
                formControlName="name"
                class="form-control"
                placeholder="Tên cửa hàng"
              />

              <div
                *ngIf="
                  !formGroupCreate.controls['name']?.valid &&
                  formGroupCreate.controls['name']?.touched
                "
              >
                <small
                  *ngIf="formGroupCreate.get('name')?.errors?.['required']"
                  style="color: red"
                  >Tên cửa hàng là bắt buộc</small
                >
              </div>
            </div>

            <div class="fv-row mb-7">
              <label class="required fw-bold fs-6 mb-2" for="Admin_username"
                >Địa chỉ cửa hàng</label
              >
              <input
                type="text"
                pInputText
                formControlName="address"
                class="form-control"
                placeholder="Địa chỉ cửa hàng"
              />

              <div
                *ngIf="
                  !formGroupCreate.controls['address']?.valid &&
                  formGroupCreate.controls['address']?.touched
                "
              >
                <small
                  *ngIf="formGroupCreate.get('address')?.errors?.['required']"
                  style="color: red"
                  >Địa chỉ cửa hàng là bắt buộc</small
                >
              </div>
            </div>

            <div class="fv-row mb-7">
              <label class="required fw-bold fs-6 mb-2" for="Admin_phone_number"
                >Giá trị đầu tư</label
              >

              <div class="col-12 md:col-7 lg:col-7 xl:col-7">
                <div class="p-inputgroup col-12 md:col-12 lg:col-12 xl:col-12">
                  <p-inputNumber
                    autocomplete="off"
                    inputId="locale-vie"
                    mode="decimal"
                    locale="vi-VN"
                    [minFractionDigits]="0"
                    aria-describedby="weight-help"
                    formControlName="capital_value"
                    placeholder="Nhập giá trị đầu tư"
                  >
                  </p-inputNumber>
                  <span class="p-inputgroup-addon">VNĐ</span>
                </div>
              </div>

              <div
                *ngIf="
                  !formGroupCreate.controls['capital_value']?.valid &&
                  formGroupCreate.controls['capital_value']?.touched
                "
              >
                <small
                  *ngIf="formGroupCreate.get('capital_value')?.errors?.['required']"
                  style="color: red"
                  >Giá trị đầu tư là bắt buộc</small
                >
              </div>
            </div>

            <div class="fv-row mb-7">
              <label class="required fw-bold fs-6 mb-2" for="Admin_phone_number"
                >Giá trị hiện tại</label
              >

              <div class="col-12 md:col-7 lg:col-7 xl:col-7">
                <div class="p-inputgroup col-12 md:col-12 lg:col-12 xl:col-12">
                  <p-inputNumber
                    autocomplete="off"
                    inputId="locale-vie"
                    mode="decimal"
                    locale="vi-VN"
                    [minFractionDigits]="0"
                    aria-describedby="weight-help"
                    formControlName="brand_value"
                    placeholder="Nhập giá trị hiện tại"
                  >
                  </p-inputNumber>
                  <span class="p-inputgroup-addon">VNĐ</span>
                </div>
              </div>

              <div
                *ngIf="
                  !formGroupCreate.controls['brand_value']?.valid &&
                  formGroupCreate.controls['brand_value']?.touched
                "
              >
                <small
                  *ngIf="formGroupCreate.get('brand_value')?.errors?.['required']"
                  style="color: red"
                  >Giá trị hiện tại là bắt buộc</small
                >
              </div>
            </div>

            <div class="fv-row mb-7">
              <label class="required fw-bold fs-6 mb-2" for="Admin_phone_number"
                >Diện tích</label
              >

              <div class="col-12 md:col-7 lg:col-7 xl:col-7">
                <div class="p-inputgroup col-12 md:col-12 lg:col-12 xl:col-12">
                  <p-inputNumber
                    autocomplete="off"
                    inputId="locale-vie"
                    mode="decimal"
                    locale="vi-VN"
                    [minFractionDigits]="0"
                    aria-describedby="weight-help"
                    formControlName="acreage"
                    placeholder="Nhập diện tích"
                  >
                  </p-inputNumber>
                  <span class="p-inputgroup-addon">m2</span>
                </div>
              </div>

              <div
                *ngIf="
                  !formGroupCreate.controls['acreage']?.valid &&
                  formGroupCreate.controls['acreage']?.touched
                "
              >
                <small
                  *ngIf="formGroupCreate.get('acreage')?.errors?.['required']"
                  style="color: red"
                  >Diện tích là bắt buộc</small
                >
              </div>
            </div>

            <div class="fv-row mb-7">
              <label class="required fw-bold fs-6 mb-2" for="Admin_sex"
                >Trạng thái</label
              >
              <select
                name="status"
                id="status"
                formControlName="status"
                class="form-control form-select"
                (change)="updateStatusName($event)"
              >
                <option [value]="null" disabled>Chọn trạng thái</option>
                <option *ngFor="let s of listStatus" [value]="s.id">
                  {{ s.name }}
                </option>
              </select>

              <div
                *ngIf="
                  !formGroupCreate.controls['status']?.valid &&
                  formGroupCreate.controls['status']?.touched
                "
              >
                <small
                  *ngIf="formGroupCreate.get('status')?.errors?.['required']"
                  style="color: red"
                  >Trạng thái là bắt buộc</small
                >
              </div>
            </div>

            <div class="fv-row mb-7">
              <label class="required fw-bold fs-6 mb-2" for="Admin_sex"
                >Loại cửa hàng</label
              >
              <select
                name="type"
                id="type"
                formControlName="type"
                class="form-control form-select"
              >
                <option [value]="null" disabled>Chọn loại cửa hàng</option>
                <option *ngFor="let s of listType" [ngValue]="s.id">
                  {{ s.name }}
                </option>
              </select>

              <div
                *ngIf="
                  !formGroupCreate.controls['type']?.valid &&
                  formGroupCreate.controls['type']?.touched
                "
              >
                <small
                  *ngIf="formGroupCreate.get('type')?.errors?.['required']"
                  style="color: red"
                  >Loại cửa hàng là bắt buộc</small
                >
              </div>
            </div>

            <div class="fv-row mb-7">
              <label class="required fw-bold fs-6 mb-2" for="Admin_birthday"
                >Ngày khai trương</label
              >

              <input
                class="form-control"
                formControlName="opening_day"
                placeholder="Ngày khai trương"
                bsDatepicker
                [bsConfig]="{
                  dateInputFormat: 'DD-MM-YYYY',
                  returnFocusToInput: true
                }"
              />

              <div
                *ngIf="
                  !formGroupCreate.controls['opening_day']?.valid &&
                  formGroupCreate.controls['opening_day']?.touched
                "
              >
                <small
                  *ngIf="formGroupCreate.get('opening_day')?.errors?.['required']"
                  style="color: red"
                  >Ngày khai trương là bắt buộc</small
                >
              </div>
            </div>

            <div class="fv-row mb-7">
              <label class="required fw-bold fs-6 mb-2" for="Admin_username"
                >Ghi chú</label
              >
              <textarea
                pInputTextarea
                [rows]="4"
                type="text"
                pInputText
                formControlName="note"
                class="form-control"
                placeholder="Ghi chú"
              ></textarea>
            </div>

            <div class="fv-row mb-7">
              <label class="required fw-bold fs-6 mb-2" for="Admin_code"
                >Upload Ảnh</label
              >
              <div class="col-md-12">
                <upload-file
                  #fileUploadIcon
                  [type]="1"
                  [maxlength]="5"
                  [fileTitle]="'Ảnh'"
                >
                </upload-file>
              </div>
            </div>

            <div class="row_page_add">
              <label class="required fw-bold fs-6 mb-2" for="Admin_code"
                >Tọa độ:
              </label>
              <add-location-map
                #addMapModal
                (coordinate)="getCoordinate($event)"
                [location]="location"
                [address]="input.address"
                [locationShow]="locationShow"
                [address]="formGroupCreate.value.address"
              ></add-location-map>
            </div>
          </div>

          <div class="text-center pt-15">
            <button
              type="reset"
              class="btn btn-light me-3"
              data-kt-users-modal-action="cancel"
              (click)="close()"
            >
              Thoát
            </button>
            <button
              type="submit"
              class="btn btn-primary"
              data-kt-users-modal-action="submit"
              (click)="save()"
              [disabled]="!formGroupCreate.valid"
            >
              <span class="indicator-label">Lưu</span>
              <span class="indicator-progress"
                >Please wait...
                <span
                  class="spinner-border spinner-border-sm align-middle ms-2"
                ></span
              ></span>
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
